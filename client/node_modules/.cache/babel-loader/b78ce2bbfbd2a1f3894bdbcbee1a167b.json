{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\YUDHVIR\\\\Pictures\\\\Honey\\\\Code\\\\BeeNation_v.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\YUDHVIR\\\\Pictures\\\\Honey\\\\Code\\\\BeeNation_v.1.0\\\\client\\\\src\\\\components\\\\PortalPopup.js\";\nimport { useMemo, useCallback, useState, useRef, useEffect } from \"react\";\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./PortalPopup.module.css\";\nvar PortalPopup = function PortalPopup(_ref) {\n  var children = _ref.children,\n    overlayColor = _ref.overlayColor,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? \"Centered\" : _ref$placement,\n    onOutsideClick = _ref.onOutsideClick,\n    _ref$zIndex = _ref.zIndex,\n    zIndex = _ref$zIndex === void 0 ? 100 : _ref$zIndex,\n    _ref$left = _ref.left,\n    left = _ref$left === void 0 ? 0 : _ref$left,\n    _ref$right = _ref.right,\n    right = _ref$right === void 0 ? 0 : _ref$right,\n    _ref$top = _ref.top,\n    top = _ref$top === void 0 ? 0 : _ref$top,\n    _ref$bottom = _ref.bottom,\n    bottom = _ref$bottom === void 0 ? 0 : _ref$bottom,\n    relativeLayerRef = _ref.relativeLayerRef;\n  var relContainerRef = useRef(null);\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    relativeStyle = _useState2[0],\n    setRelativeStyle = _useState2[1];\n  var popupStyle = useMemo(function () {\n    var style = {};\n    style.zIndex = zIndex;\n    if (overlayColor) {\n      style.backgroundColor = overlayColor;\n    }\n    // if (!relativeLayerRef?.current) {\n    //   switch (placement) {\n    //     case \"Centered\":\n    //       style.alignItems = \"center\";\n    //       style.justifyContent = \"center\";\n    //       break;\n    //     // case \"Top left\":\n    //     //   style.alignItems = \"flex-start\";\n    //     //   break;\n    //     // case \"Top center\":\n    //     //   style.alignItems = \"center\";\n    //     //   break;\n    //     // case \"Top right\":\n    //     //   style.alignItems = \"flex-end\";\n    //     //   break;\n    //     // case \"Bottom left\":\n    //     //   style.alignItems = \"flex-start\";\n    //     //   style.justifyContent = \"flex-end\";\n    //     //   break;\n    //     // case \"Bottom center\":\n    //     //   style.alignItems = \"center\";\n    //     //   style.justifyContent = \"flex-end\";\n    //     //   break;\n    //     // case \"Bottom right\":\n    //     //   style.alignItems = \"flex-end\";\n    //     //   style.justifyContent = \"flex-end\";\n    //     //   break;\n    //   }\n    // }\n    return style;\n  }, [placement, overlayColor, zIndex, relativeLayerRef?.current]);\n  var setPosition = useCallback(function () {\n    var relativeItem = relativeLayerRef?.current?.getBoundingClientRect();\n    var containerItem = relContainerRef?.current?.getBoundingClientRect();\n    var style = {};\n    if (relativeItem && containerItem) {\n      var relativeX = relativeItem.x,\n        relativeY = relativeItem.y,\n        relativeW = relativeItem.width,\n        relativeH = relativeItem.height;\n      var containerW = containerItem.width,\n        containerH = containerItem.height;\n      style.position = \"absolute\";\n      switch (placement) {\n        case \"Top left\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + left;\n          break;\n        case \"Top right\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n        case \"Bottom left\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + left;\n          break;\n        case \"Bottom right\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n      }\n      setRelativeStyle(style);\n    } else {\n      style.maxWidth = \"90%\";\n      style.maxHeight = \"90%\";\n      setRelativeStyle(style);\n    }\n  }, [left, right, top, bottom, placement, relativeLayerRef?.current, relContainerRef?.current]);\n  useEffect(function () {\n    setPosition();\n    window.addEventListener(\"resize\", setPosition);\n    window.addEventListener(\"scroll\", setPosition, true);\n    return function () {\n      window.removeEventListener(\"resize\", setPosition);\n      window.removeEventListener(\"scroll\", setPosition, true);\n    };\n  }, [setPosition]);\n  var onOverlayClick = useCallback(function (e) {\n    if (onOutsideClick && e.target.classList.contains(styles.portalPopupOverlay)) {\n      onOutsideClick();\n    }\n    e.stopPropagation();\n  }, [onOutsideClick]);\n  return /*#__PURE__*/React.createElement(Portal, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.portalPopupOverlay,\n    style: popupStyle,\n    onClick: onOverlayClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: relContainerRef,\n    style: relativeStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, children)));\n};\nexport var Portal = function Portal(_ref2) {\n  var children = _ref2.children,\n    _ref2$containerId = _ref2.containerId,\n    containerId = _ref2$containerId === void 0 ? \"portals\" : _ref2$containerId;\n  var portalsDiv = document.getElementById(containerId);\n  if (!portalsDiv) {\n    portalsDiv = document.createElement(\"div\");\n    portalsDiv.setAttribute(\"id\", containerId);\n    document.body.appendChild(portalsDiv);\n  }\n  return createPortal(children, portalsDiv);\n};\nexport default PortalPopup;","map":{"version":3,"names":["useMemo","useCallback","useState","useRef","useEffect","React","createPortal","styles","PortalPopup","_ref","children","overlayColor","_ref$placement","placement","onOutsideClick","_ref$zIndex","zIndex","_ref$left","left","_ref$right","right","_ref$top","top","_ref$bottom","bottom","relativeLayerRef","relContainerRef","_useState","_useState2","_slicedToArray","relativeStyle","setRelativeStyle","popupStyle","style","backgroundColor","current","setPosition","relativeItem","getBoundingClientRect","containerItem","relativeX","x","relativeY","y","relativeW","width","relativeH","height","containerW","containerH","position","maxWidth","maxHeight","window","addEventListener","removeEventListener","onOverlayClick","e","target","classList","contains","portalPopupOverlay","stopPropagation","createElement","Portal","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","ref","_ref2","_ref2$containerId","containerId","portalsDiv","document","getElementById","setAttribute","body","appendChild"],"sources":["C:/Users/YUDHVIR/Pictures/Honey/Code/BeeNation_v.1.0/client/src/components/PortalPopup.js"],"sourcesContent":["import { useMemo, useCallback, useState, useRef, useEffect } from \"react\";\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./PortalPopup.module.css\";\n\nconst PortalPopup = ({\n  children,\n  overlayColor,\n  placement = \"Centered\",\n  onOutsideClick,\n  zIndex = 100,\n  left = 0,\n  right = 0,\n  top = 0,\n  bottom = 0,\n  relativeLayerRef,\n}) => {\n  const relContainerRef = useRef(null);\n  const [relativeStyle, setRelativeStyle] = useState({});\n  const popupStyle = useMemo(() => {\n    const style = {};\n    style.zIndex = zIndex;\n\n    if (overlayColor) {\n      style.backgroundColor = overlayColor;\n    }\n    // if (!relativeLayerRef?.current) {\n    //   switch (placement) {\n    //     case \"Centered\":\n    //       style.alignItems = \"center\";\n    //       style.justifyContent = \"center\";\n    //       break;\n    //     // case \"Top left\":\n    //     //   style.alignItems = \"flex-start\";\n    //     //   break;\n    //     // case \"Top center\":\n    //     //   style.alignItems = \"center\";\n    //     //   break;\n    //     // case \"Top right\":\n    //     //   style.alignItems = \"flex-end\";\n    //     //   break;\n    //     // case \"Bottom left\":\n    //     //   style.alignItems = \"flex-start\";\n    //     //   style.justifyContent = \"flex-end\";\n    //     //   break;\n    //     // case \"Bottom center\":\n    //     //   style.alignItems = \"center\";\n    //     //   style.justifyContent = \"flex-end\";\n    //     //   break;\n    //     // case \"Bottom right\":\n    //     //   style.alignItems = \"flex-end\";\n    //     //   style.justifyContent = \"flex-end\";\n    //     //   break;\n    //   }\n    // }\n    return style;\n  }, [placement, overlayColor, zIndex, relativeLayerRef?.current]);\n\n  const setPosition = useCallback(() => {\n    const relativeItem = relativeLayerRef?.current?.getBoundingClientRect();\n    const containerItem = relContainerRef?.current?.getBoundingClientRect();\n    const style = {};\n    if (relativeItem && containerItem) {\n      const {\n        x: relativeX,\n        y: relativeY,\n        width: relativeW,\n        height: relativeH,\n      } = relativeItem;\n      const { width: containerW, height: containerH } = containerItem;\n      style.position = \"absolute\";\n      switch (placement) {\n        case \"Top left\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + left;\n          break;\n        case \"Top right\":\n          style.top = relativeY - containerH - top;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n        case \"Bottom left\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + left;\n          break;\n        case \"Bottom right\":\n          style.top = relativeY + relativeH + bottom;\n          style.left = relativeX + relativeW - containerW - right;\n          break;\n      }\n\n      setRelativeStyle(style);\n    } else {\n      style.maxWidth = \"90%\";\n      style.maxHeight = \"90%\";\n      setRelativeStyle(style);\n    }\n  }, [\n    left,\n    right,\n    top,\n    bottom,\n    placement,\n    relativeLayerRef?.current,\n    relContainerRef?.current,\n  ]);\n\n  useEffect(() => {\n    setPosition();\n\n    window.addEventListener(\"resize\", setPosition);\n    window.addEventListener(\"scroll\", setPosition, true);\n\n    return () => {\n      window.removeEventListener(\"resize\", setPosition);\n      window.removeEventListener(\"scroll\", setPosition, true);\n    };\n  }, [setPosition]);\n\n  const onOverlayClick = useCallback(\n    (e) => {\n      if (\n        onOutsideClick &&\n        e.target.classList.contains(styles.portalPopupOverlay)\n      ) {\n        onOutsideClick();\n      }\n      e.stopPropagation();\n    },\n    [onOutsideClick]\n  );\n\n  return (\n    <Portal>\n      <div\n        className={styles.portalPopupOverlay}\n        style={popupStyle}\n        onClick={onOverlayClick}\n      >\n        <div ref={relContainerRef} style={relativeStyle}>\n          {children}\n        </div>\n      </div>\n    </Portal>\n  );\n};\n\nexport const Portal = ({ children, containerId = \"portals\" }) => {\n  let portalsDiv = document.getElementById(containerId);\n  if (!portalsDiv) {\n    portalsDiv = document.createElement(\"div\");\n    portalsDiv.setAttribute(\"id\", containerId);\n    document.body.appendChild(portalsDiv);\n  }\n\n  return createPortal(children, portalsDiv);\n};\nexport default PortalPopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}